"use strict";(self.webpackChunkpromptgineering=self.webpackChunkpromptgineering||[]).push([[8726],{19709:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>h,contentTitle:()=>u,default:()=>j,frontMatter:()=>c,metadata:()=>v,toc:()=>y});var o=t(87462),n=(t(67294),t(3905));const l=t.p+"assets/images/mrkl_task-12b7d810cd15b51db59158e42fc156bf.png",s=t.p+"assets/images/dataset-795d02eccc193dc46031731fa8a0e5be.png",p=t.p+"assets/images/load_dataset-df696753aa1a25a052522f4db16fcaf6.png",i=t.p+"assets/images/model-d000ffaa21da2ad7da6811d42f7bba85.png",r=t.p+"assets/images/extract-dc8227e6121f666e40788126c3f24fb3.png",d=t.p+"assets/images/search-747fcaa244074c8743c305a58950233e.png",k=t.p+"assets/images/final-6ff03aff4efdfb2215cd1aad24f37ced.png";var m=t(39145);const c={sidebar_position:2},u="\ud83d\udfe1 LLM + n\xe1stroje",v={unversionedId:"advanced_applications/mrkl",id:"advanced_applications/mrkl",title:"\ud83d\udfe1 LLM + n\xe1stroje",description:'MRKL Systems(@karpas2022mrkl) (Modular Reasoning, Knowledge and Language, vyslovov\xe1no "miracle" neboli z\xe1zrak) jsou neuro-symbolickou architekturou, kter\xe1 kombinuje LLM (neuronov\xe9 v\xfdpo\u010dty) a extern\xed n\xe1stroje, jako jsou kalkula\u010dky (symbolick\xfd v\xfdpo\u010det), k \u0159e\u0161en\xed slo\u017eit\xfdch probl\xe9m\u016f.',source:"@site/docs/advanced_applications/mrkl.md",sourceDirName:"advanced_applications",slug:"/advanced_applications/mrkl",permalink:"/Learn_Prompting_CAI/docs/advanced_applications/mrkl",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udfe2 \xdavod",permalink:"/Learn_Prompting_CAI/docs/advanced_applications/overview"},next:{title:"\ud83d\udfe1 LLM, kter\xe9 uva\u017euj\xed (React) a jednaj\xed (Act)",permalink:"/Learn_Prompting_CAI/docs/advanced_applications/react"}},h={},y=[{value:"P\u0159\xedklad",id:"p\u0159\xedklad",level:2},{value:"Pozn\xe1mky",id:"pozn\xe1mky",level:2},{value:"V\xedce",id:"v\xedce",level:2}],f={toc:y},g="wrapper";function j(e){let{components:a,...t}=e;return(0,n.kt)(g,(0,o.Z)({},f,t,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"-llm--n\xe1stroje"},"\ud83d\udfe1 LLM + n\xe1stroje"),(0,n.kt)("p",null,"MRKL Systems",(0,n.kt)("sup",{parentName:"p",id:"fnref-1"},(0,n.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),' (Modular Reasoning, Knowledge and Language, vyslovov\xe1no "miracle" neboli z\xe1zrak) jsou ',(0,n.kt)("strong",{parentName:"p"},"neuro-symbolickou architekturou"),", kter\xe1 kombinuje LLM (neuronov\xe9 v\xfdpo\u010dty) a extern\xed n\xe1stroje, jako jsou kalkula\u010dky (symbolick\xfd v\xfdpo\u010det), k \u0159e\u0161en\xed slo\u017eit\xfdch probl\xe9m\u016f. "),(0,n.kt)("p",null,'Syst\xe9m MRKL se skl\xe1d\xe1 ze sady modul\u016f (nap\u0159. kalkula\u010dka, API pro po\u010das\xed, datab\xe1ze atd.) a sm\u011brova\u010de, kter\xfd rozhoduje o tom, jak "sm\u011brovat" p\u0159\xedchoz\xed dotazy v p\u0159irozen\xe9m jazyce na p\u0159\xedslu\u0161n\xfd modul.'),(0,n.kt)("p",null,"Jednoduch\xfdm p\u0159\xedkladem syst\xe9mu MRKL je ",(0,n.kt)("a",{parentName:"p",id:"LLM_0_38_1685209074596","data-tooltip-html":"Large Language Model neboli Velk\xfd jazykov\xfd model. Model, kter\xfd je vycvi\u010den k p\u0159edpov\xedd\xe1n\xed dal\u0161\xedho slova ve v\u011bt\u011b.","data-tooltip-place":"top"},"LLM"),(0,n.kt)(m.u,{anchorId:"LLM_0_38_1685209074596",clickable:!0,mdxType:"Tooltip"}),', kter\xfd m\u016f\u017ee pou\u017e\xedvat aplikaci kalkula\u010dky. Jedn\xe1 se o syst\xe9m s jedn\xedm modulem, kde LLM je sm\u011brova\u010dem. Na dotaz: "Kolik je 100*100?" m\u016f\u017ee LLM zvolit, \u017ee vyjmout \u010d\xedsla z promptu a pak \u0159\xedct syst\xe9mu MRKL, aby pou\u017eil kalkula\u010dku k v\xfdpo\u010dtu v\xfdsledku. To m\u016f\u017ee vypadat n\xe1sledovn\u011b:'),(0,n.kt)("pre",null,(0,n.kt)("p",null,"Kolik je 100*100?"),(0,n.kt)("span",{className:"bluegreen-highlight"},"CALCULATOR[100*100]")),(0,n.kt)("p",null,"Syst\xe9m MRKL by vid\u011bl slovo ",(0,n.kt)("inlineCode",{parentName:"p"},"CALCULATOR")," a zapojil by ",(0,n.kt)("inlineCode",{parentName:"p"},"100*100")," do aplikace kalkula\u010dka. Tento jednoduch\xfd n\xe1pad lze snadno roz\u0161\xed\u0159it na r\u016fzn\xe9 n\xe1stroje pro symbolick\xe9 v\xfdpo\u010dty."),(0,n.kt)("p",null,"Uva\u017eujme n\xe1sleduj\xedc\xed dal\u0161\xed p\u0159\xedklady aplikac\xed: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Chatbot, kter\xfd je schopen odpov\xeddat na dotazy t\xfdkaj\xedc\xed se finan\u010dn\xed datab\xe1ze extrahov\xe1n\xed\u044c informac\xed pro vytvo\u0159en\xed dotazu SQL z u\u017eivatelova textu.")),(0,n.kt)("pre",null,(0,n.kt)("p",null,"Jak\xe1 je nyn\xed cena akci\xed spole\u010dnosti Apple?"),(0,n.kt)("span",{className:"bluegreen-highlight"},'Aktu\xe1ln\xed cena je DATABASE[SELECT price FROM stock WHERE company = "Apple" AND time = "now"].')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Chatbot, kter\xfd je schopen odpov\xeddat na dotazy t\xfdkaj\xedc\xed se po\u010das\xed extrahov\xe1n\xedm informac\xed z dotazu a pomoc\xed API pro po\u010das\xed tyto informace z\xedsk\xe1.")),(0,n.kt)("pre",null,(0,n.kt)("p",null,"Jak\xe9 je po\u010das\xed v New Yorku?"),(0,n.kt)("span",{className:"bluegreen-highlight"},"Po\u010das\xed je WEATHER_API[New York].")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Nebo i mnohem slo\u017eit\u011bj\u0161\xed \xfalohy, kter\xe9 z\xe1vis\xed na v\xedce datov\xfdch zdroj\xedch, jako nap\u0159. n\xe1sleduj\xedc\xed:")),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:l,style:{width:"500px"}})),(0,n.kt)("div",{style:{textAlign:"center"}},"P\u0159\xedklad syst\xe9mu MRKL (AI21)"),(0,n.kt)("h2",{id:"p\u0159\xedklad"},"P\u0159\xedklad"),(0,n.kt)("p",null,"Reprodukoval jsem p\u0159\xedklad syst\xe9mu MRKL z p\u016fvodn\xedho \u010dl\xe1nku s pou\u017eit\xedm souboru Dust.tt, odkaz ",(0,n.kt)("a",{parentName:"p",href:"https://dust.tt/w/ddebdfcdde/a/98bdd65cb7"},"zde"),". Syst\xe9m na\u010dte matematickou \xfalohu (nap\u0159. ",(0,n.kt)("inlineCode",{parentName:"p"},"Co je 20 kr\xe1t 5^6?"),"), extrahuje \u010d\xedsla a operace a p\u0159eform\xe1tuje je pro aplikaci kalkula\u010dky (nap\u0159. ",(0,n.kt)("inlineCode",{parentName:"p"},"20*5^6"),"). Pot\xe9 ode\u0161le p\u0159eform\xe1tovanou rovnici do aplikace kalkula\u010dky Google a vr\xe1t\xed v\xfdsledek. V\u0161imn\u011bte si, \u017ee p\u016fvodn\xed \u010dl\xe1nek prov\xe1d\xed promptn\xed lad\u011bn\xed sm\u011brova\u010de (LLM), ale j\xe1 to v tomto p\u0159\xedkladu ned\u011bl\xe1m. Projd\u011bme si, jak to funguje:"),(0,n.kt)("p",null,"Nejprve jsem vytvo\u0159il jednoduchou datovou sadu v z\xe1lo\u017ece Dust ",(0,n.kt)("inlineCode",{parentName:"p"},"Datasets"),"."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:s,style:{width:"750px"}})),(0,n.kt)("p",null,"Pot\xe9 jsem se p\u0159epnul na kartu ",(0,n.kt)("inlineCode",{parentName:"p"},"Specifikace")," a na\u010detl datovou sadu pomoc\xed bloku ",(0,n.kt)("inlineCode",{parentName:"p"},"input"),"."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:p,style:{width:"750px"}})),(0,n.kt)("p",null,"D\xe1le jsem vytvo\u0159il blok ",(0,n.kt)("inlineCode",{parentName:"p"},"llm"),", kter\xfd extrahuje \u010d\xedsla a operace. V\u0161imn\u011bte si, jak jsem ve v\xfdzv\u011b sd\u011blil, \u017ee budeme pou\u017e\xedvat kalkula\u010dku Google. Model, kter\xfd pou\u017e\xedv\xe1m (GPT-3) m\xe1 pravd\u011bpodobn\u011b ur\u010dit\xe9 znalosti o kalkula\u010dce Google z p\u0159edtr\xe9nov\xe1n\xed."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:i,style:{width:"750px"}})),(0,n.kt)("p",null,"Pot\xe9 jsem vytvo\u0159il blok ",(0,n.kt)("inlineCode",{parentName:"p"},"code"),", kter\xfd spust\xed jednoduch\xfd javascriptov\xfd k\xf3d pro odstran\u011bn\xed mezery z dopln\u011bn\xed."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:r,style:{width:"750px"}})),(0,n.kt)("p",null,"Nakonec jsem vytvo\u0159il blok ",(0,n.kt)("inlineCode",{parentName:"p"},"search"),", kter\xfd p\u0159eform\xe1tovanou rovnici ode\u0161le do kalkula\u010dky Google."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:d,style:{width:"750px"}})),(0,n.kt)("p",null,"N\xed\u017ee vid\xedme kone\u010dn\xe9 v\xfdsledky, kter\xe9 jsou v\u0161echny spr\xe1vn\xe9!"),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("img",{src:k,style:{width:"750px"}})),(0,n.kt)("p",null,"Nev\xe1hejte si toto h\u0159i\u0161t\u011b naklonovat a experimentovat s n\xedm ",(0,n.kt)("a",{parentName:"p",href:"https://dust.tt/w/ddebdfcdde/a/98bdd65cb7"},"zde"),"."),(0,n.kt)("h2",{id:"pozn\xe1mky"},"Pozn\xe1mky"),(0,n.kt)("p",null,"MRKL byl vyvinut spole\u010dnost\xed ",(0,n.kt)("a",{parentName:"p",href:"https://www.ai21.com/"},"AI21")," a p\u016fvodn\u011b pou\u017e\xedval jejich J-1 (Jurassic 1)",(0,n.kt)("sup",{parentName:"p",id:"fnref-2"},(0,n.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," LLM."),(0,n.kt)("h2",{id:"v\xedce"},"V\xedce"),(0,n.kt)("p",null,"Viz ",(0,n.kt)("a",{parentName:"p",href:"https://python.langchain.com/en/latest/modules/agents/agents/examples/mrkl.html"},"tento p\u0159\xedklad")," syst\xe9mu MRKL,\nvytvo\u0159en\xe9ho pomoc\xed LangChain."),(0,n.kt)("div",{className:"footnotes"},(0,n.kt)("hr",{parentName:"div"}),(0,n.kt)("ol",{parentName:"div"},(0,n.kt)("li",{parentName:"ol",id:"fn-1"},"Karpas, E., Abend, O., Belinkov, Y., Lenz, B., Lieber, O., Ratner, N., Shoham, Y., Bata, H., Levine, Y., Leyton-Brown, K., Muhlgay, D., Rozen, N., Schwartz, E., Shachaf, G., Shalev-Shwartz, S., Shashua, A., & Tenenholtz, M. (2022). MRKL Systems: A modular, neuro-symbolic architecture that combines large language models, external knowledge sources and discrete reasoning.\n",(0,n.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,n.kt)("li",{parentName:"ol",id:"fn-2"},"Lieber, O., Sharir, O., Lentz, B., & Shoham, Y. (2021). Jurassic-1: Technical Details and Evaluation, White paper, AI21 Labs, 2021. URL: Https://Uploads-Ssl. Webflow. Com/60fd4503684b466578c0d307/61138924626a6981ee09caf6_jurassic_ Tech_paper. Pdf.\n",(0,n.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}j.isMDXComponent=!0}}]);