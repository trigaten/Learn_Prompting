---
sidebar_position: 4
---

# üü° –ö–æ–¥ —è–∫ –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è

[–ü—Ä–æ–≥—Ä–∞–º–æ–≤–∞–Ω—ñ –º–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ (PAL)](https://reasonwithpal.com)(@gao2022pal) —î —â–µ –æ–¥–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º —Å–∏—Å—Ç–µ–º–∏ MRKL. –û—Ç—Ä–∏–º–∞–≤—à–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, PAL –º–æ–∂—É—Ç—å **–Ω–∞–ø–∏—Å–∞—Ç–∏ –∫–æ–¥**, —è–∫–∏–π –≤–∏—Ä—ñ—à–∏—Ç—å –π–æ–≥–æ. –ö–æ–¥ –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –¥–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. PAL —ñ CoT –ø—Ä–∞—Ü—é—é—Ç—å –ø–æ-—Ä—ñ–∑–Ω–æ–º—É; –ø—Ä–æ–º—ñ–∂–Ω–∏–º –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è–º PAL —î –∫–æ–¥, —Ç–æ–¥—ñ —è–∫ —É CoT ‚Äî –ø—Ä–∏—Ä–æ–¥–Ω–∞ –º–æ–≤–∞.

import image from '@site/docs/assets/advanced/pal.webp';

<div style={{textAlign: 'center'}}>
  <img src={image} style={{width: "500px"}}/>
</div>

<div style={{textAlign: 'center'}}>
–ü—Ä–∏–∫–ª–∞–¥ PAL (“ê–∞–æ —Ç–∞ —ñ–Ω.)
</div>

–í–∞–∂–ª–∏–≤–æ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ PAL –ø–æ—î–¥–Ω—É—î –ø—Ä–∏—Ä–æ–¥–Ω—É –º–æ–≤—É (NL - natural language) —ñ –∫–æ–¥. –ù–∞ –Ω–∞–≤–µ–¥–µ–Ω–æ–º—É –≤–∏—â–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ —Å–∏–Ω—ñ–º –∫–æ–ª—å–æ—Ä–æ–º –ø–æ–∫–∞–∑–∞–Ω–æ –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Ä–æ–¥–Ω–æ—é –º–æ–≤–æ—é, —è–∫—ñ —Å—Ç–≤–æ—Ä—é—î PAL. –•–æ—á–∞ —Ç—É—Ç —Ü—å–æ–≥–æ —ñ –Ω–µ –≤–∏–¥–Ω–æ, –ø—Ä–æ—Ç–µ PAL –≥–µ–Ω–µ—Ä—É—î '\#' –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º —Ä—è–¥–∫–æ–º –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è –ø—Ä–∏—Ä–æ–¥–Ω–æ—é –º–æ–≤–æ—é, —Ç–∞–∫ —â–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î —ó—Ö —è–∫ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ.

## –ù–∞–ø—Ä–∏–∫–ª–∞–¥

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ—ó –∑–∞–¥–∞—á—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PAL. –ú–∞—é –∑–∞–ø–∏—Ç –∑ —Ç—Ä—å–æ—Ö –ø–∏—Ç–∞–Ω—å, —â–æ —î —Å–ø—Ä–æ—â–µ–Ω–æ—é –≤–µ—Ä—Å—ñ—î—é [—Ü—å–æ–≥–æ](https://github.com/reasoning-machines/pal/blob/main/pal/prompt/math_prompts.py)(@gao2022pal).

–î–ª—è —Ü—å–æ–≥–æ —è –±—É–¥—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ langchain, –ø–∞–∫–µ—Ç Python –¥–ª—è –æ–±'—î–¥–Ω–∞–Ω–Ω—è –≤ –ª–∞–Ω—Ü—é–≥ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –í–úM. –ü–æ-–ø–µ—Ä—à–µ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å:

```python
!pip install langchain==0.0.26
!pip install openai
from langchain.llms import OpenAI
import os
os.environ["OPENAI_API_KEY"] = "sk-YOUR_KEY_HERE"
```

–ü–æ—Ç—ñ–º –º–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–ø—ñ—é GPT-3 davinci-002 (–∫–æ–ª–∏ —Ü–µ –±—É–¥–µ –∑—Ä–æ–±–ª–µ–Ω–æ, –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –≤–∏–∫–ª–∏–∫ API)
```
llm = OpenAI(model_name='text-davinci-002', temperature=0)
```

–û—Å—å –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –∑–∞–ø–∏—Ç—É:

```python
MATH_PROMPT = '''
Q: There were nine computers in the server room. Five more computers were installed each day, from monday to thursday. How many computers are now in the server room?

# solution in Python:
"""There were nine computers in the server room. Five more computers were installed each day, from monday to thursday. How many computers are now in the server room?"""
computers_initial = 9
computers_per_day = 5
num_days = 4  # 4 days between monday and thursday
computers_added = computers_per_day * num_days
computers_total = computers_initial + computers_added
result = computers_total
return result


Q: Shawn has five toys. For Christmas, he got two toys each from his mom and dad. How many toys does he have now?

# solution in Python:
"""Shawn has five toys. For Christmas, he got two toys each from his mom and dad. How many toys does he have now?"""
toys_initial = 5
mom_toys = 2
dad_toys = 2
total_received = mom_toys + dad_toys
total_toys = toys_initial + total_received
result = total_toys


Q: Jason had 20 lollipops. He gave Denny some lollipops. He gave Denny some lollipops. How many lollipops did Jason give to Denny?

# solution in Python:
"""Jason had 20 lollipops. He gave Denny some lollipops. He gave Denny some lollipops. How many lollipops did Jason give to Denny?"""
jason_lollipops_initial = 20
jason_lollipops_after = 12
denny_lollipops = jason_lollipops_initial - jason_lollipops_after
result = denny_lollipops

Q: {question}

# solution in Python:
'''
```

–¢–µ–ø–µ—Ä –º–∏ –º–æ–∂–µ–º–æ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ GPT-3 –∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Ç.

```
llm_out = llm(MATH_PROMPT.format(question=question))
print(llm_out)
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

<pre>
<span className="bluegreen-highlight">
Emma took a 60 minute plane ride to seattle. She then took a 2 hour train ride to portland, and then a 30 minute bus ride to vancouver. How long did it take her to get to vancouver?<br/><br/>

plane_ride = 60<br/>
train_ride = 2 * 60  # 2 hours in minutes<br/>
bus_ride = 30<br/>
total_time = plane_ride + train_ride + bus_ride<br/>
result = total_time
</span>
</pre>

–ù–∞—Ä–µ—à—Ç—ñ, —Ü–µ–π –∫–æ–¥ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Python, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:

```python
exec(llm_out)
print(result)
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: **210**, —ñ —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –±–ª–æ–∫–Ω–æ—Ç Jupyter –¥–ª—è —Ü—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É [—Ç—É—Ç](https://github.com/trigaten/Learn_Prompting/tree/main/docs/code_examples/PAL.ipynb).

## –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

–¢–∞–∫–æ–∂ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [–ø—Ä–∏–∫–ª–∞–¥ PAL's colab ](https://colab.research.google.com/drive/1u4_RsdI0E79PCMDdcPiJUzYhdnjoXeXc?usp=sharing#scrollTo=Ba0ycacK4i1V).